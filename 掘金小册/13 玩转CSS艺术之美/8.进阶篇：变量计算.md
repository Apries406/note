# 8.è¿›é˜¶ç¯‡ï¼šå˜é‡è®¡ç®—

### å‰è¨€

åœ¨é‡æ„ä¸ªäººå®˜ç½‘è¿‡ç¨‹ä¸­ï¼Œä¸çŸ¥ä¸ºä½•çªç„¶å–œæ¬¢ç”¨ä¸Š`CSSå˜é‡`ï¼Œå¯èƒ½å…¶è‡ªèº«éšè—çš„é­…åŠ›ï¼Œè®©ç¬”è€…å¯¹å…¶åˆ®ç›®ç›¸çœ‹ã€‚æ‰€ä»¥ä¹Ÿå°†å…¶çº³å…¥æœ¬å°å†Œçš„ä½¿ç”¨èŒƒå›´ï¼Œä¹Ÿæ˜¯å”¯ä¸€ä¸€ç« éœ€é›†åˆJSæ“ä½œã€‚

### å˜é‡

**CSSå˜é‡**åˆå**CSSè‡ªå®šä¹‰å±æ€§**ï¼ŒæŒ‡å¯åœ¨æ•´ä¸ªæ–‡æ¡£ä¸­é‡å¤ä½¿ç”¨çš„å€¼ã€‚å®ƒç”±è‡ªå®šä¹‰å±æ€§`--var`å’Œå‡½æ•°`var()`ç»„æˆï¼Œ`var()`ç”¨äºå¼•ç”¨è‡ªå®šä¹‰å±æ€§ã€‚è°ˆåˆ°ä¸ºä½•ä¼šåœ¨CSSä¸­ä½¿ç”¨å˜é‡ï¼Œä»¥ä¸‹ä¸Šä¸ªç¤ºä¾‹ï¼Œä¼°è®¡ä¸€çœ‹å°±ä¼šæ˜ç™½ã€‚

```plain
/* ä¸ä½¿ç”¨å˜é‡ */
.title {
    background-color: red;
}
.desc {
    background-color: red;
}
/* ä½¿ç”¨å˜é‡ */
:root {
    --bg-color: red;
}
.title {
    background-color: var(--bg-color);
}
.desc {
    background-color: var(--bg-color);
}
```

çœ‹å®Œå¯èƒ½ä¼šè§‰å¾—ä½¿ç”¨å˜é‡çš„ä»£ç ä¼šå¤šäº†ä¸€ç‚¹ï¼Œä½†æ˜¯æœ‰æ— æƒ³åˆ°çªç„¶æŸå¤©ä¸‡æ¶çš„ç­–åˆ’å°å“¥å“¥å’Œè®¾è®¡å°å§å§è¯´è¦åšä¸€ä¸ªæ¢è‚¤åŠŸèƒ½ã€‚æŒ‰ç…§å¹³æ—¶æ€è·¯ï¼Œä¼°è®¡æœ‰äº›åŒå­¦å°±ä¼šæŒ‰ç…§`é»˜è®¤é¢œè‰²ä¸»é¢˜`å¢åŠ ä¸€ä»½å¯¹ç…§çš„`æ–°é¢œè‰²ä¸»é¢˜`æ ·å¼æ–‡ä»¶ã€‚è¿™æ ·æ¯æ¬¡å¢åŠ éœ€æ±‚éƒ½åŒæ—¶ç»´æŠ¤å‡ å¥—é¢œè‰²ä¸»é¢˜å¤šéº»çƒ¦å•Šã€‚

æ­¤æ—¶å˜é‡å°±æ´¾ä¸Šç”¨åœºäº†ï¼Œæå‰è·Ÿè®¾è®¡å°å§å§è§„èŒƒå¥½å„ç§éœ€å˜æ¢çš„é¢œè‰²å¹¶ä½¿ç”¨å˜é‡å®šä¹‰ï¼Œé€šè¿‡JSæ‰¹é‡æ“ä½œè¿™äº›å®šä¹‰å¥½çš„å˜é‡å³å¯ã€‚è¿™ä¹Ÿæ˜¯**å˜æ¢é¢œè‰²ä¸»é¢˜**çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå¥½å¤„åœ¨äºåªéœ€ç»´æŠ¤ä¸€å¥—CSSä»£ç ï¼Œç¬¬13ç« **å®æˆ˜å¤§æ“ä½œ-åˆ‡æ¢æ§ä»¶**ä¼šä½¿ç”¨çº¯CSSå®ç°æš—é»‘æ¨¡å¼æ¢è‚¤ã€‚

```plain
["red", "blue", "green"].forEach(v => {
    const btn = document.getElementById(`${v}-theme-btn`);
    btn.addEventListener("click", () => document.body.style.setProperty("--bg-color", v));
});
```

CSSä½¿ç”¨å˜é‡æœ‰å¦‚ä¸‹å¥½å¤„ã€‚

- å‡å°‘æ ·å¼ä»£ç çš„é‡å¤æ€§
- å¢åŠ æ ·å¼ä»£ç çš„æ‰©å±•æ€§

- æé«˜æ ·å¼ä»£ç çš„çµæ´»æ€§
- å¢å¤šä¸€ç§CSSä¸JSçš„é€šè®¯æ–¹å¼

- ä¸ç”¨æ·±å±‚éå†DOMæ”¹å˜æŸä¸ªæ ·å¼

å¯èƒ½æœ‰äº›åŒå­¦ä¼šé—®ï¼Œ`sass`å’Œ`less`æ—©å°±å®ç°äº†å˜é‡è¯¥ç‰¹æ€§ï¼Œä½•å¿…å†å¤šæ­¤ä¸€ä¸¾å‘¢ï¼Ÿå¯æ˜¯ç»†æƒ³ä¸€ä¸‹ï¼Œå˜é‡å¯¹æ¯”`Sasså˜é‡`å’Œ`Lesså˜é‡`åˆæœ‰å®ƒçš„è¿‡äººä¹‹å¤„ã€‚

- æµè§ˆå™¨åŸç”Ÿç‰¹æ€§ï¼Œæ— éœ€ç»è¿‡ä»»ä½•è½¬è¯‘å¯ç›´æ¥è¿è¡Œ
- DOMå¯¹è±¡ä¸€å‘˜ï¼Œæå¤§ä¾¿åˆ©äº†CSSä¸JSé—´çš„è”ç³»

### è®¤è¯†

æœ¬æ¥æ‰“ç®—ç”¨ä¸€åŠç¯‡å¹…è®²è¿°å˜é‡çš„è§„èŒƒå’Œç”¨æ³•ï¼Œä½†æ˜¯ç½‘ä¸Šä¸€æœä¸€å¤§æŠŠå°±æ„Ÿè§‰æ²¡å¿…è¦äº†ï¼Œè´´ä¸Šé˜®ä¸€å³°è€å¸ˆå‘è¡¨çš„æ•™ç¨‹[ã€ŠCSSå˜é‡æ•™ç¨‹ã€‹](http://www.ruanyifeng.com/blog/2017/05/css-variables.html)ã€‚åŒæ—¶ç¬”è€…ä¹Ÿå¯¹å˜é‡çš„ç»†èŠ‚ä½œä¸€ä¸ªæ•´ç†ï¼Œæ–¹ä¾¿è®°å¿†ã€‚

- å£°æ˜ï¼š`--å˜é‡å`
- è¯»å–ï¼š`var(--å˜é‡å, é»˜è®¤å€¼)`

- ç±»å‹

- - æ™®é€šï¼šåªèƒ½ç”¨ä½œ`å±æ€§å€¼`ä¸èƒ½ç”¨ä½œ`å±æ€§å`
  - å­—ç¬¦ï¼šä¸å­—ç¬¦ä¸²æ‹¼æ¥ `"Hello, "var(--name)`

- - æ•°å€¼ï¼šä½¿ç”¨`calc()`ä¸æ•°å€¼å•ä½è¿ç”¨ `var(--width) * 10px`

- ä½œç”¨åŸŸ

- - èŒƒå›´ï¼šåœ¨`å½“å‰èŠ‚ç‚¹å—ä½œç”¨åŸŸ`åŠå…¶`å­èŠ‚ç‚¹å—ä½œç”¨åŸŸ`ä¸‹æœ‰æ•ˆ
  - ä¼˜å…ˆçº§åˆ«ï¼š`å†…è”æ ·å¼ = å¤–è”æ ·å¼ > IDé€‰æ‹©å™¨ > ç±»é€‰æ‹©å™¨ = ä¼ªç±»é€‰æ‹©å™¨ = å±æ€§é€‰æ‹©å™¨ > å…ƒç´ é€‰æ‹©å™¨ = ä¼ªå…ƒç´ é€‰æ‹©å™¨ > é€šé…é€‰æ‹©å™¨ = åä»£é€‰æ‹©å™¨ = å…„å¼Ÿé€‰æ‹©å™¨`

æ¥ä¸‹æ¥ä½¿ç”¨å‡ ä¸ªç‰¹åˆ«çš„åœºæ™¯å±•ç¤ºå˜é‡çš„é­…åŠ›ã€‚è¿˜æ˜¯é‚£å¥è¯ï¼Œ**ä¸€æ ·ä¸œè¥¿æœ‰ä½¿ç”¨çš„åœºæ™¯ï¼Œé‚£è‡ªç„¶å°±ä¼šæœ‰å®ƒçš„ä»·å€¼**ï¼Œé‚£ä¹ˆç”¨çš„äººä¹Ÿä¼šè¶Šæ¥è¶Šå¤šã€‚

### åœºæ™¯

å…¶å®å˜é‡æœ‰ä¸€ä¸ªç‰¹åˆ«å¥½ç”¨çš„åœºæ™¯ï¼Œé‚£å°±æ˜¯ç»“åˆ`Listé›†åˆ`ä½¿ç”¨ã€‚è‹¥ä¸æ˜ç™½è¿™æ˜¯ä»€ä¹ˆï¼Œè¯·ç»§ç»­å¾€ä¸‹çœ‹ã€‚

##### æ¡å½¢åŠ è½½æ¡

ä¸€ä¸ªæ¡å½¢åŠ è½½æ¡é€šå¸¸ç”±å‡ æ¡çº¿æ¡ç»„æˆï¼Œæ¯æ¡çº¿æ¡å¯¹åº”ä¸€ä¸ªå­˜åœ¨ä¸åŒæ—¶å»¶çš„ç›¸åŒåŠ¨ç”»ï¼Œé€šè¿‡æ—¶é—´å·®è¿è¡Œç›¸åŒçš„åŠ¨ç”»ï¼Œä»è€Œäº§ç”ŸåŠ è½½æ•ˆæœã€‚ä¼°è®¡å¤§éƒ¨åˆ†çš„åŒå­¦å¯èƒ½ä¼šæŠŠCSSä»£ç ç¼–å†™æˆä»¥ä¸‹è¿™æ ·ã€‚

![img](https://cdn.nlark.com/yuque/0/2020/gif/2985494/1607320767375-4a717766-f719-4b99-b988-1c3fa5e4fff2.gif)

```plain
<ul class="strip-loading">
    <li v-for="v in 6" :key="v"></li>
</ul>
.strip-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 200px;
    height: 200px;
    li {
        border-radius: 3px;
        width: 6px;
        height: 30px;
        background-color: #f66;
        animation: beat 1s ease-in-out infinite;
        & + li {
            margin-left: 5px;
        }
        &:nth-child(2) {
            animation-delay: 200ms;
        }
        &:nth-child(3) {
            animation-delay: 400ms;
        }
        &:nth-child(4) {
            animation-delay: 600ms;
        }
        &:nth-child(5) {
            animation-delay: 800ms;
        }
        &:nth-child(6) {
            animation-delay: 1s;
        }
    }
}
@keyframes beat {
    0%,
    100% {
        transform: scaleY(1);
    }
    50% {
        transform: scaleY(.5);
    }
}
```

åˆ†æä»£ç å‘ç°ï¼Œæ¯ä¸ª`<li>`åªæ˜¯å­˜åœ¨`animation-delay`ä¸åŒï¼Œè€Œå…¶ä½™ä»£ç åˆ™å®Œå…¨ç›¸åŒï¼Œæ¢æˆå…¶ä»–ç±»ä¼¼çš„Listé›†åˆï¼Œé‚£å²‚ä¸æ˜¯æœ‰10ä¸ª`<li>`å°±å†™10ä¸ª`:nth-child(n)`ã€‚

æ˜¾ç„¶è¿™ç§æ–¹æ³•ä¸çµæ´»ä¹Ÿä¸å®¹æ˜“å°è£…æˆç»„ä»¶ï¼Œè‹¥èƒ½åƒJSé‚£æ ·å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œå¹¶æ ¹æ®å‚æ•°è¾“å‡ºä¸åŒæ ·å¼æ•ˆæœï¼Œé‚£å°±æ›´æ£’äº†ã€‚è¯´åˆ°è¿™é‡Œï¼Œå¾ˆæ˜æ˜¾å°±æ˜¯ä¸ºäº†é“ºå«å˜é‡çš„å¼€å‘æŠ€å·§äº†ã€‚

å¯¹äºHTMLéƒ¨åˆ†çš„ä¿®æ”¹ï¼Œè®©æ¯ä¸ª`<li>`æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±ä½œç”¨åŸŸä¸‹çš„å˜é‡ã€‚å¯¹äºCSSéƒ¨åˆ†çš„ä¿®æ”¹ï¼Œå°±éœ€åˆ†æå“ªäº›å±æ€§æ˜¯éšç€`index`é€’å¢è€Œå‘ç”Ÿè§„å¾‹å˜åŒ–çš„ï¼Œå¯¹è§„å¾‹å˜åŒ–çš„éƒ¨åˆ†ä½¿ç”¨å˜é‡è¡¨è¾¾å¼ä»£æ›¿å³å¯ã€‚

```plain
<ul class="strip-loading">
    <li v-for="v in 6" :key="v" :style="`--line-index: ${v}`"></li>
</ul>
.strip-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 200px;
    height: 200px;
    li {
        --time: calc(var(--line-index) * 200ms);
        border-radius: 3px;
        width: 6px;
        height: 30px;
        background-color: #f66;
        animation: beat 1.5s ease-in-out var(--time) infinite;
        & + li {
            margin-left: 5px;
        }
    }
}
@keyframes beat {
    0%,
    100% {
        transform: scaleY(1);
    }
    50% {
        transform: scaleY(.5);
    }
}
```

ä»£ç ä¸­çš„å˜é‡`--line-index`å’Œ`--time`ä½¿æ¯ä¸ª`<li>`æ‹¥æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„ä½œç”¨åŸŸã€‚ä¾‹å¦‚ç¬¬äºŒä¸ª`<li>`ï¼Œ`--line-index`çš„å€¼ä¸º2ï¼Œ`--time`çš„è®¡ç®—å€¼ä¸º`200ms`ï¼Œæ¢æˆç¬¬ä¸‰ä¸ª`<li>`åè¿™ä¸¤ä¸ªå€¼åˆä¼šä¸åŒäº†ã€‚

è¿™å°±æ˜¯å˜é‡çš„ä½œç”¨èŒƒå›´æ‰€è‡´(`åœ¨å½“å‰èŠ‚ç‚¹å—ä½œç”¨åŸŸåŠå…¶å­èŠ‚ç‚¹å—ä½œç”¨åŸŸä¸‹æœ‰æ•ˆ`)ï¼Œå› æ­¤åœ¨`.strip-loading`çš„å—ä½œç”¨åŸŸä¸‹è°ƒç”¨`--line-index`æ˜¯æ— æ•ˆçš„ã€‚

```plain
/* flexå±æ€§æ— æ•ˆ */
.strip-loading {
    display: flex;
    align-items: center;
    flex: var(--line-index);
}
```

é€šè¿‡å¦™ç”¨å˜é‡ï¼Œä¹ŸæŠŠCSSä»£ç ä»`41è¡Œ`ç¼©å‡åˆ°`27è¡Œ`ï¼Œå¯¹äºé‚£äº›å«æœ‰Listé›†åˆè¶Šå¤šçš„åœºæ™¯ï¼Œæ•ˆæœå°±è¶Šæ˜æ˜¾ã€‚è€Œä¸”è¿™æ ·å¤„ç†ä¹Ÿæ›´ç¾è§‚æ›´å®¹æ˜“ç»´æŠ¤ï¼ŒæŸå¤©è¯´åŠ è½½æ•ˆæœçš„æ—¶é—´å·®ä¸æ˜æ˜¾ï¼Œç›´æ¥å°†`calc((var(--line-index) - 1) * 200ms)`é‡Œçš„`200ms`è°ƒæ•´æˆ`400ms`å³å¯ï¼Œå°±æ— éœ€ä¿®æ”¹æ¯ä¸ª`:nth-child(n)`äº†ã€‚

------

-  åœ¨çº¿æ¼”ç¤ºï¼š[Here](https://codepen.io/JowayYoung/pen/ZEGPrxy)
-  åœ¨çº¿æºç ï¼š[Here](https://github.com/JowayYoung/idea-css/blob/master/icss/src/components/component/æ¡å½¢åŠ è½½æ¡.vue)

##### å¿ƒå½¢åŠ è½½æ¡

å‰æ®µæ—¶é—´åˆ·æ˜é‡‘çœ‹åˆ°`é™ˆå¤§é±¼å¤´å…„`çš„å¿ƒå½¢åŠ è½½æ¡ï¼Œè§‰å¾—æŒºæ¼‚äº®çš„ï¼Œå¾ˆå¸¦æ„Ÿè§‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2020/gif/2985494/1607320767377-e5c2aaa6-8f7d-41b9-be23-52e9942d8187.gif)

é€šè¿‡åŠ¨å›¾åˆ†æï¼Œå‘ç°æ¯æ¡çº¿æ¡çš„èƒŒæ™¯é¢œè‰²å’ŒåŠ¨ç”»æ—¶å»¶ä¸åŒï¼Œå¦å¤–åŠ¨ç”»è¿è¡Œæ—¶çš„é«˜åº¦ä¹Ÿä¸åŒã€‚ç»†å¿ƒçš„ä½ å¯èƒ½è¿˜ä¼šå‘ç°ï¼Œç¬¬ä¸€æ¡å’Œç¬¬ä¹æ¡çš„é«˜åº¦ä¸€è‡´ï¼Œç¬¬äºŒæ¡å’Œç¬¬å…«æ¡çš„é«˜åº¦ä¸€è‡´ï¼Œä¾æ¬¡ç±»æ¨ï¼Œå¾—åˆ°`é«˜åº¦å˜æ¢ç›¸åŒç±»`çš„å…¬å¼ï¼š`å¯¹ç§°index = æ€»æ•° + 1 - index`ã€‚

èƒŒæ™¯é¢œè‰²ä½¿ç”¨äº†æ»¤é•œçš„è‰²ç›¸æ—‹è½¬`hue-rotate()`ï¼Œç›®çš„æ˜¯ä¸ºäº†ä½¿é¢œè‰²è¿‡æ¸¡å¾—æ›´è‡ªç„¶ï¼›åŠ¨ç”»æ—¶å»¶ä¸ä¸Šè¿°`æ¡å½¢åŠ è½½æ¡`ä¸€è‡´ã€‚ä»¥ä¸‹å°±ç”¨å˜é‡æ ¹æ®çœ‹åˆ°çš„åŠ¨å›¾å®ç°ä¸€ç•ªã€‚

```plain
<div class="heart-loading">
    <ul style="--line-count: 9">
        <li v-for="v in 9" :key="v" :class="`line-${v}`" :style="`--line-index: ${v}`"></li>
    </ul>
</div>
.heart-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 200px;
    height: 200px;
    ul {
        display: flex;
        justify-content: space-between;
        width: 150px;
        height: 10px;
    }
    li {
        --Î˜: calc(var(--line-index) / var(--line-count) * .5turn);
        --time: calc((var(--line-index) - 1) * 40ms);
        border-radius: 5px;
        width: 10px;
        height: 10px;
        background-color: #3c9;
        filter: hue-rotate(var(--Î˜));
        animation-duration: 1s;
        animation-delay: var(--time);
        animation-iteration-count: infinite;
        &.line-1,
        &.line-9 {
            animation-name: beat-1;
        }
        &.line-2,
        &.line-8 {
            animation-name: beat-2;
        }
        &.line-3,
        &.line-7 {
            animation-name: beat-3;
        }
        &.line-4,
        &.line-6 {
            animation-name: beat-4;
        }
        &.line-5 {
            animation-name: beat-5;
        }
    }
}
@keyframes beat-1 {
    0%,
    10%,
    90%,
    100% {
        height: 10px;
    }
    45%,
    55% {
        height: 30px;
        transform: translate3d(0, -15px, 0);
    }
}
@keyframes beat-2 {
    0%,
    10%,
    90%,
    100% {
        height: 10px;
    }
    45%,
    55% {
        height: 60px;
        transform: translate3d(0, -30px, 0);
    }
}
@keyframes beat-3 {
    0%,
    10%,
    90%,
    100% {
        height: 10px;
    }
    45%,
    55% {
        height: 80px;
        transform: translate3d(0, -40px, 0);
    }
}
@keyframes beat-4 {
    0%,
    10%,
    90%,
    100% {
        height: 10px;
    }
    45%,
    55% {
        height: 90px;
        transform: translate3d(0, -30px, 0);
    }
}
@keyframes beat-5 {
    0%,
    10%,
    90%,
    100% {
        height: 10px;
    }
    45%,
    55% {
        height: 90px;
        transform: translate3d(0, -20px, 0);
    }
}
```

ä¸€æ³¢æ“ä½œåå°±æœ‰äº†ä»¥ä¸‹æ•ˆæœã€‚ä¸`é™ˆå¤§é±¼å¤´å…„`çš„å¿ƒå½¢åŠ è½½æ¡å¯¹æ¯”ä¸€ä¸‹ï¼Œé¢œè‰²ã€æ³¢åŠ¨æ›²çº¿å’Œè·³åŠ¨é¢‘ç‡æœ‰ç‚¹ä¸åŒï¼Œåœ¨æš–è‰²è°ƒçš„è”“å»¶å’Œè‚¾ä¸Šè…ºç´ çš„é£™å‡ä¸‹ï¼Œè¿™æ˜¯ä¸€ç§å¿ƒåŠ¨çš„æ„Ÿè§‰ã€‚æƒ³èµ·è‡ªå·±æ›¾ç»å†™çš„ä¸€é¦–è¯—ï¼š`æˆ‘è§çŠ¹æ€œï¼Œçˆ±ä¸é‡Šæ‰‹ï¼Œé›…ä¿—å…±èµï¼Œå›å­å¥½é€‘`ã€‚

![img](https://cdn.nlark.com/yuque/0/2020/gif/2985494/1607320767536-d47cadc7-a7a1-40d6-82b9-502ca1c6286d.gif)

------

-  åœ¨çº¿æ¼”ç¤ºï¼š[Here](https://codepen.io/JowayYoung/pen/VwLRQyV)
-  åœ¨çº¿æºç ï¼š[Here](https://github.com/JowayYoung/idea-css/blob/master/icss/src/components/component/å¿ƒå½¢åŠ è½½æ¡.vue)

##### æ ‡ç­¾å¯¼èˆª

ä¸Šè¿°é€šè¿‡ä¸¤ä¸ªåŠ è½½æ¡æ¼”ç¤ºäº†å˜é‡åœ¨CSSä¸­çš„è¿ç”¨ä»¥åŠä¸€äº›å¦™ç”¨æŠ€å·§ï¼Œç°åœ¨é€šè¿‡**æ ‡ç­¾å¯¼èˆª**æ¼”ç¤ºå˜é‡åœ¨JSä¸­çš„è¿ç”¨ã€‚

JSä¸­æœ‰3ä¸ªæ“ä½œå˜é‡çš„APIï¼Œçœ‹ä¸Šå»ç®€å•æ˜“è®°ã€‚

-  è¯»å–å˜é‡ï¼š`elem.style.getPropertyValue()`
-  è®¾ç½®å˜é‡ï¼š`elem.style.setProperty()`

-  åˆ é™¤å˜é‡ï¼š`elem.style.removeProperty()`

å…ˆä¸Šæ•ˆæœå›¾ï¼Œæ•ˆæœä¸­ä¸»è¦æ˜¯ä½¿ç”¨å˜é‡æ ‡è®°æ¯ä¸ªTabçš„èƒŒæ™¯é¢œè‰²å’Œåˆ‡æ¢Tabçš„æ˜¾ç¤ºçŠ¶æ€ã€‚

![img](https://cdn.nlark.com/yuque/0/2020/gif/2985494/1607320767525-61ba2b91-fc1c-43d5-b810-37c968faf502.gif)

```plain
<div class="tab-navbar">
    <nav>
        <a v-for="(v, i) in list" :key="v" :class="{ active: index === i }" @click="select(i)">æ ‡é¢˜{{i + 1}}</a>
    </nav>
    <div>
        <ul ref="tabs" :style="`--tab-count: ${list.length}`">
            <li v-for="(v, i) in list" :key="v" :style="`--bg-color: ${v}`">å†…å®¹{{i + 1}}</li>
        </ul>
    </div>
</div>
.tab-navbar {
    display: flex;
    overflow: hidden;
    flex-direction: column-reverse;
    border-radius: 10px;
    width: 300px;
    height: 400px;
    nav {
        display: flex;
        height: 40px;
        background-color: #f0f0f0;
        line-height: 40px;
        text-align: center;
        a {
            flex: 1;
            cursor: pointer;
            transition: all 300ms;
            &.active {
                background-color: #3c9;
                color: #fff;
            }
        }
    }
    div {
        flex: 1;
        ul {
            --tab-index: 0;
            --tab-width: calc(var(--tab-count) * 100%);
            --tab-move: calc(var(--tab-index) / var(--tab-count) * -100%);
            display: flex;
            flex-wrap: nowrap;
            width: var(--tab-width);
            height: 100%;
            transform: translate3d(var(--tab-move), 0, 0);
            transition: all 300ms;
        }
        li {
            display: flex;
            justify-content: center;
            align-items: center;
            flex: 1;
            background-color: var(--bg-color);
            font-weight: bold;
            font-size: 20px;
            color: #fff;
        }
    }
}
export default {
    data() {
        return {
            index: 0,
            list: ["#f66", "#66f", "#f90", "#09f"]
        };
    },
    methods: {
        select(i) {
            this.index = i;
            this.$refs.tabs.style.setProperty("--tab-index", i);
        }
    }
};
```

åœ¨`<ul>`ä¸Šå®šä¹‰`--tab-index`è¡¨ç¤ºTabå½“å‰çš„ç´¢å¼•ï¼Œå½“ç‚¹å‡»æŒ‰é’®æ—¶é‡ç½®`--tab-index`çš„å€¼ï¼Œå¯å®ç°ä¸æ“ä½œDOMç§»åŠ¨`<ul>`çš„ä½ç½®æ˜¾ç¤ºæŒ‡å®šçš„Tabã€‚ä¸æ“ä½œDOMè€Œå¯ç§»åŠ¨`<ul>`æ˜¯å› ä¸ºå®šä¹‰äº†`--tab-move`ï¼Œé€šè¿‡`calc()`è®¡ç®—`--tab-index`ä¸`--tab-move`çš„å…³ç³»ï¼Œä»è€Œæ“æ§`transform:translate3d()`ç§»åŠ¨`<ul>`ã€‚

å¦å¤–åœ¨`<li>`ä¸Šå®šä¹‰`--bg-color`è¡¨ç¤ºTabçš„èƒŒæ™¯é¢œè‰²ï¼Œä¹Ÿæ˜¯ä¸€ç§æ¯”è¾ƒç®€æ´çš„æ¨¡æ¿èµ‹å€¼æ–¹å¼ï¼Œæ€»æ¯”å†™`<li :style="backgroundColor:${color}">`è¦å¥½çœ‹ã€‚è‹¥å¤šä¸ªå±æ€§ä¾èµ–ä¸€ä¸ªå˜é‡èµ‹å€¼ï¼Œé‚£ä¹ˆä½¿ç”¨å˜é‡èµ‹å€¼åˆ°`style`ä¸Šå°±æ›´æ–¹ä¾¿äº†ï¼Œé‚£äº›å±æ€§å¯åœ¨`cssæ–‡ä»¶`é‡Œè®¡ç®—ä¸èµ‹å€¼ï¼Œè¿™æ ·å¯å¸®åŠ©JSåˆ†æ‹…ä¸€äº›å±æ€§è®¡ç®—å·¥ä½œã€‚

å½“ç„¶è¯¥æ ‡ç­¾å¯¼èˆªä¹Ÿå¯é€šè¿‡çº¯CSSå®ç°ã€‚

------

-  åœ¨çº¿æ¼”ç¤ºï¼š[Here](https://codepen.io/JowayYoung/pen/oNvzoZg)
-  åœ¨çº¿æºç ï¼š[Here](https://github.com/JowayYoung/idea-css/blob/master/icss/src/components/component/æ ‡ç­¾å¯¼èˆª.vue)

##### æ‚¬æµ®è·Ÿè¸ªæŒ‰é’®

é€šè¿‡å‡ ä¸ªç¤ºä¾‹å®è·µäº†å˜é‡åœ¨CSSå’ŒJSä¸Šçš„è¿ç”¨ï¼Œç›¸ä¿¡å„ä½åŒå­¦å·²ç»æŒæ¡äº†å…¶ç”¨æ³•å’ŒæŠ€å·§ã€‚æ›¾ç»åœ¨æŸä¸ªç½‘ç«™çœ‹è¿‡ä¸€ä¸ªæ¯”è¾ƒé…·ç‚«çš„é¼ æ ‡æ‚¬æµ®æ•ˆæœï¼Œå¥½åƒä¹Ÿæ˜¯ä½¿ç”¨å˜é‡å®ç°çš„ã€‚ç¬”è€…å‡­ç€è®°å¿†ä¹Ÿä½¿ç”¨å˜é‡å®ç°ä¸€ç•ªã€‚

å…¶å®æ€è·¯ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå…ˆå¯¹æŒ‰é’®å¸ƒå±€å’Œç€è‰²ï¼Œç„¶åä½¿ç”¨ä¼ªå…ƒç´ æ ‡è®°é¼ æ ‡çš„ä½ç½®ï¼Œå®šä¹‰`--x`å’Œ`--y`è¡¨ç¤ºä¼ªå…ƒç´ åœ¨æŒ‰é’®é‡Œçš„åæ ‡ï¼Œé€šè¿‡JSè·å–é¼ æ ‡åœ¨æŒ‰é’®ä¸Šçš„`offsetX`å’Œ`offsetY`åˆ†åˆ«èµ‹å€¼ç»™`--x`å’Œ`--y`ï¼Œå†å¯¹ä¼ªå…ƒç´ æ·»åŠ å¾„å‘æ¸å˜çš„èƒŒæ™¯é¢œè‰²ï¼Œå¤§åŠŸå‘Šæˆï¼Œä¸€ä¸ªé…·ç‚«çš„é¼ æ ‡æ‚¬æµ®è·Ÿè¸ªæ•ˆæœå°±è¿™æ ·è¯ç”Ÿäº†ã€‚

![img](https://cdn.nlark.com/yuque/0/2020/gif/2985494/1607320767663-2a3fdb1b-ba7f-4810-a417-58a51d5931d2.gif)

```plain
<a class="track-btn" @mousemove="move">
    <span>å¦™ç”¨CSSå˜é‡ï¼Œè®©ä½ çš„CSSå˜å¾—æ›´å¿ƒåŠ¨</span>
</a>
.track-btn {
    overflow: hidden;
    position: relative;
    border-radius: 25px;
    width: 400px;
    height: 50px;
    background-color: #66f;
    cursor: pointer;
    line-height: 50px;
    text-align: center;
    font-weight: bold;
    font-size: 18px;
    color: #fff;
    span {
        position: relative;
        pointer-events: none;
    }
    &::before {
        --size: 0;
        position: absolute;
        left: var(--x);
        top: var(--y);
        width: var(--size);
        height: var(--size);
        background-image: radial-gradient(circle closest-side, #09f, transparent);
        content: "";
        transform: translate3d(-50%, -50%, 0);
        transition: width 200ms ease, height 200ms ease;
    }
    &:hover::before {
        --size: 400px;
    }
}
export default {
    name: "track-btn",
    methods: {
        move(e) {
            const x = e.pageX - e.target.offsetLeft;
            const y = e.pageY - e.target.offsetTop;
            e.target.style.setProperty("--x", `${x}px`);
            e.target.style.setProperty("--y", `${y}px`);
        }
    }
};
```

å…¶å®å¯ç»“åˆ`é¼ æ ‡äº‹ä»¶`å®Œæˆæ›´å¤šçš„é…·ç‚«æ•ˆæœï¼Œä¾‹å¦‚`åŠ¨ç”»å…³è”`å’Œ`äº‹ä»¶å“åº”`ç­‰æ“ä½œã€‚æ²¡æœ‰åšä¸åˆ°åªæœ‰æƒ³ä¸åˆ°ï¼Œå°½æƒ…å‘æŒ¥ä½ çš„æƒ³è±¡åŠ›å•¦ã€‚

------

-  åœ¨çº¿æ¼”ç¤ºï¼š[Here](https://codepen.io/JowayYoung/pen/vYOPdjP)
-  åœ¨çº¿æºç ï¼š[Here](https://github.com/JowayYoung/idea-css/blob/master/icss/src/components/component/æ‚¬æµ®è·Ÿè¸ªæŒ‰é’®.vue)

##### æ‚¬æµ®è§†å·®æŒ‰é’®

æ›¾ç»åœ¨CodePenä¸Šè¿˜çœ‹åˆ°ä¸€ä¸ªæŒºä¸é”™çš„ç¤ºä¾‹ï¼Œä¸€ä¸ª[æ‚¬æµ®è§†å·®æŒ‰é’®](https://t.co/qE0woiNip8)ï¼Œå…·ä½“ä»£ç æ¶‰åŠåˆ°ä¸€äº›3Då˜æ¢çš„çŸ¥è¯†ã€‚çœ‹å®Œæºç åï¼ŒæŒ‰ç…§å…¶æ€è·¯è‡ªå·±ä¹Ÿå®ç°ä¸€ç•ªï¼Œé¡ºä¾¿å¯¹ä»£ç ç¨åŠ æ”¹è‰¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2020/gif/2985494/1607320767651-6b301bee-77ba-4afd-9837-9ab2b4c256ad.gif)

------

-  åœ¨çº¿æ¼”ç¤ºï¼š[Here](https://codepen.io/JowayYoung/pen/RwPdQEz)
-  åœ¨çº¿æºç ï¼š[Here](https://github.com/JowayYoung/idea-css/blob/master/icss/src/components/component/æ‚¬æµ®è§†å·®æŒ‰é’®.vue)

### å…¼å®¹

å¯¹äºç°ä»£æµè§ˆå™¨æ¥è¯´ï¼Œå˜é‡çš„å…¼å®¹æ€§å…¶å®è¿˜æ˜¯è›®å¥½çš„ï¼Œæ‰€ä»¥å¯æ”¾å¿ƒä½¿ç”¨ã€‚æ¯•ç«Ÿç°åœ¨éƒ½æ˜¯å„å¤§æµè§ˆå™¨å‚å•†å¿«é€Ÿè¿­ä»£çš„æ—¶åˆ»ï¼Œäº§å“å¯¹äºç”¨æˆ·ä½“éªŒæ¥è¯´æ˜¯å äº†å¾ˆå¤§æ¯”é‡ï¼Œå› æ­¤åœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹è¿˜æ˜¯å¤§èƒ†å°æ–°ï¼Œä¸è¦è¢«ä¸€äº›è¿‡å»çš„æ‰€è°“çš„è§„èŒƒæ‰€çº¦æŸç€ã€‚

![img](https://cdn.nlark.com/yuque/0/2020/png/2985494/1607320767619-f1944aa7-64cd-4ba7-90dd-30ee8317ee55.png)

è¯•é—®ç°åœ¨è¿˜æœ‰å¤šå°‘äººæ„¿æ„å»ç»´æŠ¤`IExplorerå…¼å®¹æ€§`ï¼Œè‹¥ä¸€ä¸ªäº§å“çš„ç”¨æˆ·ä½“éªŒå—é™äºè¿œå¤æµè§ˆå™¨çš„å‹åˆ¶(`å¯èƒ½æ”¿åŠ¡ç½‘ç«™å’Œé‡‘èç½‘ç«™é™¤å¤–å§`)ï¼Œç›¸ä¿¡è¯¥äº§å“ä¹Ÿä¸ä¼šèµ°å¾—å¾ˆè¿œã€‚

åœ¨å®Œæˆä¸€ä¸ªäº§å“çš„è¿‡ç¨‹ä¸­ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†å®Œæˆå·¥ä½œä»»åŠ¡ï¼Œè‹¥åœ¨ä¿è¯è¿›åº¦çš„åŒæ—¶èƒ½èŠ±ç‚¹å¿ƒæ€ç‚¹ç¼€ä¸€ä¸‹ï¼Œå¯èƒ½ä¼šæœ‰æ„å¤–çš„æ”¶è·ã€‚**ç”¨å¿ƒå†™å¥½æ¯ä¸€æ®µä»£ç ï¼Œæ‰æ˜¯äº«å—å†™ä»£ç çš„çœŸè°›**ã€‚

### æ€»ç»“

é€šè¿‡å¾ªåºæ¸è¿›çš„æ–¹å¼æ¢è®¨äº†å˜é‡çš„è¿ç”¨å’ŒæŠ€å·§ï¼Œå¯¹äºä¸€ä¸ªè¿™ä¹ˆå¥½ç”¨çš„ç‰¹æ€§ï¼Œå½“ç„¶æ˜¯ä¸èƒ½æ”¾è¿‡å•¦ã€‚å…¶å®å¤šå¤šæ€è€ƒï¼Œå°±èƒ½æŠŠå˜é‡ç”¨åœ¨å¾ˆå¤šåœºæ™¯ä¸Šã€‚æœ€åé€ç»™å„ä½åŒå­¦ä¸€ä¸ªå¤§å¤§çš„å½©è›‹ï¼Œä¸€ä¸ªæš–å¿ƒå½©è™¹è‰²è°ƒğŸŒˆæ­é…çš„çˆ±å¿ƒç‚¹èµæŒ‰é’®ã€‚ç¬¬15ç« **å®æˆ˜å¤§æ“ä½œ-å˜é‡æ§ä»¶**æ˜¯çº¯CSSå˜é‡å®æˆ˜ï¼Œè¯·å„ä½åŒå­¦æœŸå¾…ä¸‹å•¦ã€‚

![img](https://cdn.nlark.com/yuque/0/2020/gif/2985494/1607320767514-48c87ea8-cf54-4c6d-81b4-28f205563fed.gif)

------

-  åœ¨çº¿æ¼”ç¤ºï¼š[Here](https://codepen.io/JowayYoung/pen/PoqLQgq)
-  åœ¨çº¿æºç ï¼š[Here](https://github.com/JowayYoung/idea-css/blob/master/icss/src/components/component/ç‚¹èµæŒ‰é’®.vue)

è‹¥æœ‰æ”¶è·ï¼Œå°±ç‚¹ä¸ªèµå§